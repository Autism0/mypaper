
\rhead{\xiaowuhao\sectionindex\quad总结与展望}
\section{总结与展望}
代码提交作为软件演化过程中的重要产物，对开发和维护人员理解代码修改和进行软件维护具有重要意义。在代码提交中包含提交注释，修改代码，与修改代码相关的代码注释以及其他信息。帮助开发和维护人员快速有效地分析和理解这些信息，将有助于软件的质量控制和维护。本研究的目的是为了帮助开发和维护人员在软件维护过程中快速高效地理解和评估代码提交。本章将对前文工作进行总结，并对未来的研究工作进行展望。
\subsection{工作总结}
\par{代码提交在软件维护活动中扮演着极其重要的角色，本文针对代码提交的评估和理解问题展开研究。首先，在代码提交的评估方面，我们提出了数据驱动的代码和注释一致性检测方法，通过检测在代码修改过程中代码和注释的一致性，评估代码提交的质量。其次，在代码提交的理解方面，我们提出了基于关键类判定的代码提交理解辅助方法，通过判定在代码提交中哪些类是被主要修改的类，以引导开发人员正确地阅读代码修改，达到快速高效地理解代码提交的目的。}
\par{代码提交的质量对开发和维护人员理解代码修改有着重要的影响。本文针对在代码修改中代码和注释的一致性评估问题，提出一种数据驱动的代码和注释一致性检测方法。该方法从代码提交中提取涉及修改的代码片段及其相关联的注释，从多个维度提取可判别特征，并按照机器学习的方法进行建模和评估。实验中我们从5个开源项目9909个代码提交中提取了35050个软件变化，在代码修改过程中，与代码不一致的注释为4595个，一致的注释为30455个。我们根据这些数据建立了一个有监督的分类模型。模型评估结果表明，在对与代码不一致的注释的分类上，准确率达到77.2\%，召回率达到74.6\%；对与代码一致的注释分类上，准确率达到96.4\%，召回率达到97.2\%。另外，我们选取了2000个不在模型的训练集和测试集中的软件变化，利用我们的分类模型进行分类，共找到了241个与代码不一致的注释。其中，有31个注释在原项目中未作出修改。该实验表明我们的代码和注释一致性检测模型可有效地帮助开发和维护人员在代码提交中检测与代码不一致的注释，辅助开发和维护人员评估代码提交的质量。}
\par{正确引导开发和维护人员理解代码提交，有助于提高软件维护的效率。本文以此为目的提出一种基于关键类判定的代码提交理解辅助方法。该方法从代码提交中提取可判别特征，并使用带监督的机器学习算法进行建模和评估。实验中我们从120个开源项目中收集了4611个代码提交，共22189个修改类。实验结果显示，我们的模型判断关键类的综合准确率达到了88.4\%，绝对准确率达到了73.6\%。且在我们的问卷调查结果中显示，使用关键类判定方法，可以帮助开发和评审人员理解代码提交。}
\par{最后，我们将代码和注释一致性检测方法和关键类判定方法集成到我们的代码修改分析与注释检查系统中。该系统以这两个方法为核心，结合多种数据可视化方法辅助开发人员理解和分析代码修改。}
\par{综上所述，本文从代码提交的评估和理解两个方面展开了相关的研究，提出了数据驱动的代码和注释一致性检测方法和基于关键类判定的代码提交理解辅助方法，并实现了一个代码修改分析与注释检查系统。我们希望本文的研究工作可在实践中有效地辅助开发和维护人员理解和分析代码提交，并且能够为将来的关于代码提交的研究工作提供一些参考。}
\subsection{研究展望}
\par{本文提出的数据驱动的代码和注释一致性检测方法以及基于关键类判定的代码提交辅助理解方法，经过实验验证，结果表明可有效帮助开发和维护人员评估和理解代码提交。与此同时，这两个方法也还存在着一些不足之处，有很多问题需要在未来工作中作进一步研究，包括：}
\par{代码和注释一致性检测方面：(1)优化模型的训练数据的质量。代码和注释一致性检测模型的训练数据直接采集自开源项目，在训练集中不可避免地包含一部分噪声，这些噪声可能会影响模型的准确率。对训练数据进行筛选和验证，以增加模型的可靠性。(2)改进注释作用域检测算法。在进行数据提取时，我们采用启发式规则检测注释作用域。在一些情况下，启发式规则倾向于扩大注释的作用域。这时有可能将一些与当前注释不相关的代码包含进来，从而影响我们的分类模型的准确率。通过进一步改进注释作用域检测算法，提高作用域检测的精确度，以提高模型的准确率。(3)改进模型的分类算法。本文使用的代码和注释一致性检测的算法是基于传统的机器学习算法，准确率还未达到理想值。通过研究利用深度学习替代传统机器学习算法，来进一步提高检测模型的准确率。(4)增加检测模型的多语言支持。由于我们在实验中选择的项目编程语言均为Java，因此，我们的分类模型可能不能很好地适应其他编程语言类型的项目。通过增加其他类型的语言的支持，扩大分类模型的适用范围。}
\par{代码提交关键类判定方面：(1)增大模型的训练集。在判定模型的数据集中，我们采集的数量还远未达到饱和状态，可进一步在开源项目中进行代码提交数据的采集。(2)改进模型的分类算法。关键类判定模型采用的分类算法为传统的机器学习算法，未来可将深度学习引入到判定模型中，来进一步提高判定模型的准确率。(3)增加更丰富的提示信息。本文提出的基于关键类的代码提交理解辅助方法，提供给用户的辅助信息比较单调，未来可增加更丰富的提示信息，如：类之间的修改传递信息，类的代码修改摘要信息，多次提交间的代码修改追踪信息等。}
